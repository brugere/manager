<h2 data-translate="telephony_billingAccount_svaWallet_kyc_title"></h2>

<h3
    data-translate="telephony_billingAccount_svaWallet_kyc_documents_title"
></h3>

<ul data-ng-if="!$ctrl.loading">
    <li data-ng-repeat="document in $ctrl.documents track by document.id">
        <span
            data-translate="{{:: 'telephony_billingAccount_svaWallet_kyc_documents_nature_' + document.nature }}"
        ></span>
    </li>
</ul>

<div class="oui-datagrid-responsive">
    <table class="oui-datagrid">
        <thead>
            <tr>
                <th class="oui-datagrid__header">
                    <span
                        data-translate="telephony_billingAccount_svaWallet_kyc_documents_type_title"
                    ></span>
                </th>
                <th class="oui-datagrid__header">
                    <span
                        data-translate="telephony_billingAccount_svaWallet_kyc_documents_name_title"
                    ></span>
                </th>
                <th class="oui-datagrid__header">
                    <span
                        data-translate="telephony_billingAccount_svaWallet_kyc_documents_status_title"
                    ></span>
                </th>
                <th class="oui-datagrid__header"></th>
            </tr>
        </thead>
        <tbody data-ng-if="!$ctrl.loading" aria-hidden="false">
            <tr
                class="oui-datagrid__row"
                data-ng-repeat="document in $ctrl.documents track by document.id"
            >
                <td
                    class="oui-datagrid__cell "
                    data-title="{{::'telephony_billingAccount_svaWallet_kyc_documents_type_title' | translate }}"
                >
                    <span
                        data-translate="{{:: 'telephony_billingAccount_svaWallet_kyc_documents_nature_' + document.nature }}"
                    ></span>

                    <span
                        data-ng-if="document.beneficiary"
                        data-ng-bind="document.beneficiary.firstname"
                    ></span>
                    <span
                        data-ng-if="document.beneficiary"
                        data-ng-bind="document.beneficiary.lastname"
                    ></span>
                    <oui-select
                        items="$ctrl.documentTypes"
                        match="name"
                        name="documentType"
                        placeholder="{{:: 'telephony_billingAccount_svaWallet_kyc_documents_type_title' | translate }}"
                        searchable
                    >
                    </oui-select>
                </td>
                <td
                    class="oui-datagrid__cell "
                    data-title="{{::'telephony_billingAccount_svaWallet_kyc_documents_name_title' | translate }}"
                >
                    <span data-ng-bind="document.name"></span>
                </td>
                <td
                    class="oui-datagrid__cell "
                    data-title="{{::'telephony_billingAccount_svaWallet_kyc_documents_status_title' | translate }}"
                >
                    <span
                        data-translate="{{:: 'telephony_billingAccount_svaWallet_kyc_documents_status_' + document.status }}"
                    ></span>
                </td>
                <td
                    class="oui-datagrid__cell "
                    data-title="{{::'telephony_billingAccount_svaWallet_kyc_documents_actions_title' | translate }}"
                >
                    <oui-action-menu aria-label="Actions" compact>
                        <oui-action-menu-item href="#" external>
                            <span
                                data-translate="telephony_billingAccount_svaWallet_kyc_documents_actions_template"
                            ></span>
                        </oui-action-menu-item>
                        <oui-action-menu-item
                            on-click="$ctrl.download(document.id)"
                            disabled="!document.canDownload"
                        >
                            <span
                                data-translate="telephony_billingAccount_svaWallet_kyc_documents_actions_download"
                            ></span>
                        </oui-action-menu-item>
                        <oui-action-menu-item>
                            <span
                                data-translate="telephony_billingAccount_svaWallet_kyc_documents_actions_delete"
                            ></span>
                        </oui-action-menu-item>
                    </oui-action-menu>
                </td>
            </tr>
        </tbody>
        <tbody data-ng-if="$ctrl.documents.length === 0 || $ctrl.isLoading">
            <tr class="oui-datagrid__row oui-datagrid__row_placeholder">
                <td class="oui-datagrid__cell oui-datagrid-empty" colspan="4">
                    <div ng-if="!$ctrl.isLoading">
                        <span
                            class="oui-datagrid-empty__placeholder"
                            data-translate="Pas de pièces à fournir"
                        ></span>
                    </div>
                    <oui-spinner ng-if="$ctrl.isLoading"></oui-spinner>
                </td>
            </tr>
        </tbody>
    </table>
</div>
